"use strict";(self.webpackChunkyuruchara_quiz=self.webpackChunkyuruchara_quiz||[]).push([[76],{205:(I,l,g)=>{g.d(l,{u:()=>h});var u=g(8699),d=g(1626);let h=(()=>{class s{constructor(t){this.http=t,this.dataUrl="assets/characters.json",this.HINT_SETTING_KEY="hint",this.QUESTION_TYPE_KEY="questionType"}getCharacters(){return this.http.get(this.dataUrl)}getAnswerLog(t){const e=localStorage.getItem(t);return e?JSON.parse(e):[]}addAnswerLog(t,e){const r=this.getAnswerLog("correct"),o=this.getAnswerLog("wrong");if("correct"===t){const n=o.findIndex(c=>c.name===e.name);n>-1&&(o.splice(n,1),localStorage.setItem("wrong",JSON.stringify(o)))}else{const n=r.findIndex(c=>c.name===e.name);n>-1&&(r.splice(n,1),localStorage.setItem("correct",JSON.stringify(r)))}const a=this.getAnswerLog(t);if(-1===a.findIndex(n=>n.name===e.name)){const n=[...a,e];localStorage.setItem(t,JSON.stringify(n))}}getHintSetting(){const t=localStorage.getItem(this.HINT_SETTING_KEY);return!!t&&JSON.parse(t)}setHintSetting(t){localStorage.setItem(this.HINT_SETTING_KEY,JSON.stringify(t))}getQuestionType(){return localStorage.getItem(this.QUESTION_TYPE_KEY)||"random"}generateQuizQuestion(t){if(!t||0===t.length)throw new Error("No characters provided to generate a quiz question.");const r=t[Math.floor(Math.random()*t.length)];let o;const a=this.getQuestionType();let i;return o="random"===a?Math.random()<.5?"name":"prefecture":a,i="name"===o?"\u3053\u306e\u30ad\u30e3\u30e9\u30af\u30bf\u30fc\u306e\u540d\u524d\u306f\u4f55\u3067\u3057\u3087\u3046\uff1f":`${r.name}\u306e\u51fa\u8eab\u770c\u306f\u3069\u3053\u3067\u3057\u3087\u3046\uff1f`,{character:r,question:i,type:o}}static{this.\u0275fac=function(e){return new(e||s)(u.KVO(d.Qq))}}static{this.\u0275prov=u.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()}}]);