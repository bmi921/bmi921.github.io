"use strict";(self.webpackChunkyuruchara_quiz=self.webpackChunkyuruchara_quiz||[]).push([[148],{5148:(j,h,s)=>{s.r(h),s.d(h,{CharactersModule:()=>R});var u=s(177),c=s(4341),p=s(3536),e=s(8699),m=s(205),d=s(8554);function f(r,l){if(1&r&&(e.j41(0,"div",7),e.nrm(1,"img",8),e.j41(2,"p")(3,"strong"),e.EFF(4,"\u51fa\u8eab\u770c:"),e.k0s(),e.EFF(5),e.k0s(),e.j41(6,"p",9),e.EFF(7),e.k0s()()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("src",t.character.imagePath,e.B4B)("alt",t.character.name),e.R7$(4),e.SpI(" ",t.character.prefecture,""),e.R7$(2),e.JRh(t.character.description)}}let C=(()=>{class r{constructor(t){this.bsModalRef=t}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(d.Y$))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-profile"]],decls:10,vars:2,consts:[[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],["class","modal-body text-center p-4",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-body","text-center","p-4"],[1,"img-fluid","mb-3",3,"src","alt"],[1,"description"]],template:function(n,a){1&n&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return a.bsModalRef.hide()}),e.j41(4,"span",3),e.EFF(5,"\xd7"),e.k0s()()(),e.DNE(6,f,8,4,"div",4),e.j41(7,"div",5)(8,"button",6),e.bIt("click",function(){return a.bsModalRef.hide()}),e.EFF(9," \u9589\u3058\u308b "),e.k0s()()),2&n&&(e.R7$(2),e.JRh(null==a.character?null:a.character.name),e.R7$(4),e.Y8G("ngIf",a.character))},dependencies:[u.bT],styles:[".description[_ngcontent-%COMP%]{white-space:pre-line}"]})}}return r})(),g=(()=>{class r{constructor(t){this.modalService=t}open(t){return this.bsModalRef=this.modalService.show(C,{initialState:{character:t}}),this.bsModalRef}static{this.\u0275fac=function(n){return new(n||r)(e.KVO(d.I8))}}static{this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function v(r,l){if(1&r&&(e.j41(0,"option",9),e.EFF(1),e.k0s()),2&r){const t=l.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function F(r,l){if(1&r){const t=e.RV6();e.j41(0,"div",10)(1,"div",11),e.bIt("click",function(){const i=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.showProfile(i))}),e.nrm(2,"img",12),e.j41(3,"div",13)(4,"h5",14),e.EFF(5),e.k0s(),e.j41(6,"p",15),e.EFF(7),e.k0s()()()()}if(2&r){const t=l.$implicit;e.R7$(2),e.Y8G("src",t.imagePath,e.B4B)("alt",t.name),e.R7$(3),e.JRh(t.name),e.R7$(2),e.JRh(t.prefecture)}}const b=[{path:"",component:(()=>{class r{constructor(t,n){this.dataService=t,this.profileService=n,this.allCharacters=[],this.filteredCharacters=[],this.searchTerm="",this.prefectures=[],this.selectedPrefecture="\u3059\u3079\u3066",this.characters$=this.dataService.getCharacters()}ngOnInit(){this.characters$.subscribe(t=>{this.allCharacters=t,this.filteredCharacters=t,this.prefectures=["\u3059\u3079\u3066",...new Set(t.map(n=>n.prefecture))]})}search(){let t=this.allCharacters;this.selectedPrefecture&&"\u3059\u3079\u3066"!==this.selectedPrefecture&&(t=t.filter(n=>n.prefecture===this.selectedPrefecture)),this.searchTerm&&(t=t.filter(n=>n.name.toLowerCase().includes(this.searchTerm.toLowerCase()))),this.filteredCharacters=t}showProfile(t){this.profileService.open(t)}static{this.\u0275fac=function(n){return new(n||r)(e.rXU(m.u),e.rXU(g))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-characters"]],decls:16,vars:5,consts:[[1,"m-3"],[1,"row","mb-3"],[1,"col-md-6"],["type","text","placeholder","\u540d\u524d\u3067\u691c\u7d22...",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"mb-3"],[1,"row"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],[3,"value"],[1,"col-md-4","mb-4"],[1,"card","h-100",2,"cursor","pointer",3,"click"],[1,"card-img-top",2,"height","200px","object-fit","contain","padding-top","10px",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(n,a){1&n&&(e.j41(0,"div",0)(1,"h1"),e.EFF(2,"\u3086\u308b\u30ad\u30e3\u30e9\u4e00\u89a7"),e.k0s(),e.j41(3,"p"),e.EFF(4,"\u3086\u308b\u30ad\u30e3\u30e9\u306e\u540d\u524d\u3084\u51fa\u8eab\u770c\u3067\u691c\u7d22\u3067\u304d\u307e\u3059\u3002"),e.k0s(),e.j41(5,"div",1)(6,"div",2)(7,"input",3),e.bIt("ngModelChange",function(o){return a.searchTerm=o})("input",function(){return a.search()}),e.k0s()(),e.j41(8,"div",2)(9,"select",4),e.bIt("ngModelChange",function(o){return a.selectedPrefecture=o})("change",function(){return a.search()}),e.DNE(10,v,2,2,"option",5),e.k0s()()(),e.j41(11,"div",6)(12,"p"),e.EFF(13),e.k0s()(),e.j41(14,"div",7),e.DNE(15,F,8,4,"div",8),e.k0s()()),2&n&&(e.R7$(7),e.Y8G("ngModel",a.searchTerm),e.R7$(2),e.Y8G("ngModel",a.selectedPrefecture),e.R7$(1),e.Y8G("ngForOf",a.prefectures),e.R7$(3),e.SpI("",a.filteredCharacters.length,"\u4ef6"),e.R7$(2),e.Y8G("ngForOf",a.filteredCharacters))},dependencies:[u.Sq,c.xH,c.y7,c.me,c.wz,c.BC,c.vS]})}}return r})()}];let E=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[p.iI.forChild(b),p.iI]})}}return r})(),R=(()=>{class r{static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[u.MD,E,c.YN]})}}return r})()}}]);